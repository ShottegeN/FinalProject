@model HomeViewModel
@{
    ViewData["Title"] = "Начало";
}

<div>
    <!-- SECTION -->
    <div class="section">
        <!-- container -->
        <div class="container">
            <!-- row -->
            <div class="row">
                <!-- shop -->
                <div class="col-md-4 col-xs-6">
                    <div class="shop">
                        <div class="shop-img">
                            <img src="./img/products/rabbit_Sophie.jpg" alt="">
                        </div>
                        <div class="shop-body">
                            <h3>Играчки</h3>
                            <a href="#" class="cta-btn">Преглед <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                </div>
                <!-- /shop -->
                <!-- shop -->
                <div class="col-md-4 col-xs-6">
                    <div class="shop">
                        <div class="shop-img">
                            <img src="./img/products/decoration_01.jpg" alt="">
                        </div>
                        <div class="shop-body">
                            <h3>Декорации</h3>
                            <a href="#" class="cta-btn">Преглед <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                </div>
                <!-- /shop -->
                <!-- shop -->
                <div class="col-md-4 col-xs-6">
                    <div class="shop">
                        <div class="shop-img">
                            <img src="./img/products/blanket_1.jpg" alt="">
                        </div>
                        <div class="shop-body">
                            <h3>Аксесоари</h3>
                            <a href="#" class="cta-btn">Преглед <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                </div>
                <!-- /shop -->
            </div>
            <!-- /row -->
        </div>
        <!-- /container -->
    </div>
    <!-- /SECTION -->
    <!-- SECTION -->
    <div class="section">
        <!-- container -->
        <div class="container">
            <!-- row -->
            <div class="row">

                <!-- section title -->
                <div class="col-md-12">
                    <div class="section-title">
                        <h3 class="title">Нови предложения</h3>
                        <div class="section-nav">
                            <ul class="section-tab-nav tab-nav">
                                <li class="active"><a data-toggle="tab" asp-controller="Home" asp-action="Index">Играчки</a></li>
                                <li><a data-toggle="tab" href="#tab1">Аксесоари</a></li>
                                <li><a data-toggle="tab" href="#tab1">Декорации</a></li>
                                <li><a data-toggle="tab" href="#tab1">Други</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- /section title -->
                <!-- Products tab & slick -->
                <div class="col-md-12">
                    <div class="row">
                        <div class="products-tabs">
                            <!-- tab -->
                            <div id="tab1" class="tab-pane active">
                                <div class="products-slick" data-nav="#slick-nav-1">
                                    @foreach (var product in Model.NewProducts)
                                    {
                                        <!-- product -->
                                        <partial name="_ProductCardPartial" model="product" />
                                        <!-- /product -->
                                    }
                                </div>
                                <div id="slick-nav-1" class="products-slick-nav"></div>
                            </div>
                            <!-- /tab -->
                        </div>
                    </div>
                </div>
                <!-- Products tab & slick -->
            </div>
            <!-- /row -->
        </div>
        <!-- /container -->
    </div>
    <!-- /SECTION -->
    <!-- HOT DEAL SECTION -->
    <div id="hot-deal" class="section" style="background-image: url('/img/promotions/default-promotion.png')">
        <!-- container -->
        <div class="container">
            <!-- row -->
            <div class="row">
                <div class="col-md-12">
                    <div class="hot-deal">
                        @foreach (var promotion in Model.ActivePromotions)
                        {
                            <!-- Hot Deal Partial Item for each active promotion -->
                            <div class="slick-slide" data-promotion-image="@promotion.ImageUrl">
                                <partial name="_PromotionPartial" model="promotion" />
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /HOT DEAL SECTION -->    
</div>

@section Scripts {
    <script src="~/js/updateCountdown.js"></script>

    <script>
        // Initialize countdowns for all active promotions
        @foreach (var promotion in Model.ActivePromotions)
        {
            <text>
                    updateCountdown(@promotion.Id, '@promotion.EndDate.ToString("yyyy-MM-ddTHH:mm:ss")');
            </text>
        }
    </script>
}